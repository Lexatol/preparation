CREATE TABLE movies(
	movies_id bigserial primary key,
	title varchar(50),
	length_m varchar(50));

INSERT INTO movies(title, length_m) VALUES
	('Терминатор', '120'),
	('Бой с тенью', '90'),
	('Три богатыря и шамаханская царица', '90'),
	('Ползком от гангстеров', '60');

CREATE TABLE price (
	price_id bigserial primary key,
	price integer,
	week_day varchar(50));

INSERT INTO price(price, week_day) VALUES
	(1000, 'будний день'),
	(1500, 'будний день'),
	(2000, 'будний день'),
	(2500, 'выходной день'),
	(3000, 'выходной день');

CREATE TABLE show_time (
	time_id bigserial primary key,
	time_s timetz,
	price_id integer,
	CONSTRAINT FK_MOVIES_ID FOREIGN KEY(price_id)
	REFERENCES price (price_id));

INSERT INTO show_time(time_s, price_id) VALUES
	('9:00', 1),
	('9:30', 1),
	('10:00', 1),
	('10:30', 1),
	('14:00', 2),
	('14:30', 2),
	('15:00', 2),
	('15:30', 2),
	('18:00', 3),
	('19:00', 3),
	('20:00', 3),
	('21:00', 3),
	('18:00', 4),
	('19:00', 4),
	('20:00', 5),
	('21:00', 5);

CREATE TABLE ticket(
	id bigserial primary key,
	movies_id integer,
	time_id integer,

	CONSTRAINT FK_MOVIES_ID FOREIGN KEY(movies_id)
	REFERENCES movies (movies_id),
	CONSTRAINT FK_SHOW_TIME_ID FOREIGN KEY(time_id)
	REFERENCES show_time (time_id)
);

INSERT INTO ticket (movies_id, time_id) VALUES
	(1, 1),
	(2, 2),
	(3, 3),
	(4, 4),
	(1, 5),
	(2, 6),
	(3, 7),
	(4, 8),
	(1, 9),
	(2, 10),
	(3, 11),
	(1, 1),
	(2, 2),
	(3, 3),
	(4, 4),
	(1, 5),
	(2, 6),
	(3, 7),
	(4, 8),
	(1, 9),
	(2, 10),
	(3, 11),
	(1, 1),
	(2, 2),
	(3, 3),
	(4, 4),
	(1, 5),
	(2, 6),
	(3, 7),
	(4, 8),
	(1, 9),
	(2, 10),
	(3, 11),
	(1, 1),
	(2, 2),
	(3, 3),
	(4, 4),
	(1, 5),
	(2, 6),
	(3, 7),
	(4, 8),
	(1, 9),
	(2, 10),
	(3, 11),
	(4, 12),
	(1, 9),
	(2, 10),
	(4, 12),
	(1, 5),
	(2, 6),
	(3, 7),
	(4, 8),
	(1, 9),
	(2, 10),
	(3, 11),
	(4, 12),
	(1, 9),
	(2, 10),
	(4, 12),
	(1, 5),
	(2, 6),
	(3, 7),
	(4, 8),
	(1, 9),
	(2, 10),
	(3, 11),
	(4, 12),
	(1, 9),
	(2, 10),
	(4, 12),
	(1, 5),
	(2, 6),
	(3, 7),
	(4, 8),
	(1, 9),
	(2, 10),
	(3, 11),
	(4, 12),
	(1, 9),
	(2, 10),
	(4, 12),
	(1, 5),
	(2, 6),
	(3, 7),
	(4, 8),
	(1, 9),
	(2, 10),
	(3, 11),
	(4, 12),
	(1, 9),
	(2, 10),
	(4, 12),
	(1, 9),
	(2, 10),
	(4, 12),
	(1, 9),
	(2, 10),
	(4, 12),
	(1, 9),
	(2, 10),
	(3, 11),
	(4, 12);